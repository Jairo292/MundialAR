<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Experiencia AR</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/experiencia.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
</head>
<body>

    <!-- BOTÓN VOLVER -->
    <div class="top-bar">
        <a href="index.html" class="volver">← Volver</a>
        <span class="estado-ar">● AR ACTIVO</span>
    </div>

    <!-- CONTENEDOR PRINCIPAL -->
    <div class="ar-container">

        <!-- PANTALLA ESCANEO -->
        <div class="scan-screen" id="scanScreen">
            <!-- Video de la cámara (oculto inicialmente) -->
            <video id="cameraStream" class="camera-stream hidden" autoplay playsinline></video>
            
            <!-- Marco de escaneo mejorado -->
            <div class="scan-frame">
                <div class="corner corner-tl"></div>
                <div class="corner corner-tr"></div>
                <div class="corner corner-bl"></div>
                <div class="corner corner-br"></div>
                <div class="scan-line"></div>
                <div class="scan-target">⚽</div>
            </div>

            <div class="scan-info">
                <p class="scan-title">Escanea un Escudo del Mundial</p>
                <p class="scan-desc">
                    Apunta al marcador con buena iluminación
                </p>
            </div>

            <button class="fake-scan-btn" onclick="activarCamara()">
                <span>Activar Cámara</span>
            </button>
        </div>

        <!-- PANTALLA MODELO (oculta al inicio) -->
        <div class="model-screen hidden" id="modelScreen">
            <!-- Video de la cámara de fondo -->
            <video id="cameraBackground" class="camera-background" autoplay playsinline></video>

            <!-- Panel superior -->
            <div class="model-header">
                <div class="badge">Copa Mundial 2026</div>
            </div>

            <!-- Contenedor del modelo -->
            <div class="model-container">
                <div class="model-glow"></div>
                <img src="../Imagenes/pelota.png" alt="Pelota 3D" class="modelo-3d">
            </div>

            <!-- BOTÓN DE ANIMACIÓN -->
            <button class="anim-btn" id="btnAnim">
                <span>Animar</span>
            </button>

            <!-- BOTONES INFERIORES -->
            <div class="bottom-controls">
                <button class="control-btn" id="btnInfo">
                    <div class="btn-label">Info</div>
                </button>
                <button class="control-btn" id="btnVideo">
                    <div class="btn-label">Video</div>
                </button>
                <button class="control-btn" id="btnEfectos">
                    <div class="btn-label">Efectos</div>
                </button>
            </div>

            <button class="trivia-btn" id="btnTrivia">
                Modo Trivia AR
            </button>

        </div>

    </div>

<script src="../js/experiencia.js"></script>

<!-- ===== MODAL: VIDEO ===== -->
<div class="modal-overlay hidden" id="videoModal" role="dialog" aria-modal="true" aria-label="Video Mundial 2026">
  <div class="modal">
    <div class="modal-header modal-header--blue">
      <div>
        <h3>Video - Mundial 2026</h3>
      </div>
      <button class="modal-close" data-close="videoModal">✕</button>
    </div>

    <div class="modal-body">
      <div class="video-wrap">
        <video id="arVideo" controls playsinline>
          <source src="../Videos/demo.mp4" type="video/mp4" />
        </video>
      </div>

      <h4 class="section-title">Filtros Visuales</h4>

      <div class="chip-row" id="filterRow">
        <button class="chip chip--active" data-filter="none">Original</button>
        <button class="chip" data-filter="blur(3px)">Desenfoque</button>
        <button class="chip" data-filter="contrast(1.2) saturate(1.2)">Color Ajustado</button>
        <button class="chip" data-filter="url(#thermal)">Térmico</button>
        <button class="chip" data-filter="pixel">Pixelado</button>
        <button class="chip" data-filter="pastel">Pastel</button>
      </div>

      <div class="info-box">
        <div class="info-box-title">Filtro Activo: <span id="activeFilterLabel">Original</span></div>
        <div class="info-box-desc">
          Los filtros visuales permiten personalizar la experiencia de visualización del contenido AR.
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ===== MODAL: ESTADÍSTICAS ===== -->
<div class="modal-overlay hidden" id="statsModal" role="dialog" aria-modal="true" aria-label="Estadísticas Mundial 2026">
  <div class="modal modal--tall">
    <div class="modal-header modal-header--blue">
      <div>
        <h3>Mundial 2026</h3>
        <p class="modal-sub">Copa Mundial de la FIFA</p>
      </div>
      <button class="modal-close" data-close="statsModal">✕</button>
    </div>

    <div class="modal-body">
      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-val">16 Ciudades</div>
          <div class="stat-lab">Sedes</div>
        </div>
        <div class="stat-card">
          <div class="stat-val">11 Jun - 19 Jul</div>
          <div class="stat-lab">Fecha</div>
        </div>
        <div class="stat-card">
          <div class="stat-val">48 Selecciones</div>
          <div class="stat-lab">Equipos</div>
        </div>
        <div class="stat-card">
          <div class="stat-val">104 Encuentros</div>
          <div class="stat-lab">Partidos</div>
        </div>
      </div>

      <h4 class="section-title">Países Anfitriones</h4>

      <div class="host-list">
        <div class="host-item">
          <div class="host-badge">US</div>
          <div class="host-txt">
            <div class="host-name">Estados Unidos</div>
            <div class="host-sub">11 ciudades sede</div>
          </div>
        </div>

        <div class="host-item">
          <div class="host-badge">MX</div>
          <div class="host-txt">
            <div class="host-name">México</div>
            <div class="host-sub">3 ciudades sede</div>
          </div>
        </div>

        <div class="host-item">
          <div class="host-badge">CA</div>
          <div class="host-txt">
            <div class="host-name">Canadá</div>
            <div class="host-sub">2 ciudades sede</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ===== MODAL: TRIVIA ===== -->
<div class="modal-overlay hidden" id="triviaModal" role="dialog" aria-modal="true" aria-label="Trivia AR">
  <div class="modal">
    <div class="modal-header modal-header--pink">
      <div class="trivia-top">
        <div class="trivia-title">Trivia AR</div>
        <div class="trivia-score">⭐ <span id="score">0</span> puntos</div>
      </div>

      <button class="modal-close" data-close="triviaModal">✕</button>

      <div class="trivia-meta">
        <div class="trivia-step">Pregunta <span id="qIndex">1</span> de <span id="qTotal">3</span></div>
        <div class="progress">
          <div class="progress-bar" id="progressBar" style="width:33%"></div>
        </div>
      </div>
    </div>

    <div class="modal-body">
      <div class="trivia-body">
        <h4 class="trivia-question" id="questionText">¿Cuántos equipos participarán en el Mundial 2026?</h4>

        <div class="answers" id="answers">
          <button class="answer">32</button>
          <button class="answer">40</button>
          <button class="answer">48</button>
          <button class="answer">64</button>
        </div>
      </div>
    </div>
  </div>
</div>

</body>
</html>
